# Flying Robots

## Flying robots or unmanned aerial vehicles {.smaller}

:::: {.columns}

::: {.column width="70%"}
* UAVs are becoming increasingly common and span a huge range of size and shapes.
* Flying robots have $6$-dof with configuration $\bm{q} \in \mathcal{C} = \bm{SE}(3)$.
* We use a dynamic rather than a kinematic model.
* The rotors are driven by electric motors, powered by electronic speed controllers.
* The rotor speed is $\varpi_i$ and the thrust is an upward vector 
$$ T_i = b \varpi_i^2, \; \; i = 1, 2, 3, 4, $$ in the vehicle's negative $\bm{z}$-direction.
* The translational dynamics of the vehicle in world coordinates is given by 
Newton's second law
$$ m \dot{\bm{v}} = \begin{pmatrix} 0 \\ 0 \\ m g \end{pmatrix} - {^0}\bm{R}_B 
\begin{pmatrix} 0 \\ 0 \\ T \end{pmatrix} - B \bm{v},
$$
where $\bm{v}$ is the velocity of the CoM in the world frame, $g$ is the 
gravitational acceleration, $m$ is the total mass, $B$ is the 
aerodynamic friction and $T = \sum_i T_i$ is the total upward thrust.
:::

::: {.column width="30%"}
<center>
<img src="contents/assets/uavs.png" width="400" height="250" />
</center>
<center>
<img src="contents/assets/fig4_20.svg" width="400" height="200" />
</center>

::: {.callout-tip appearance="minimal"}
Quadrotor with four rotors, their thrust vectors and directions of rotation.
Blue rotors rotate ccw while red rotors rotate cw.
:::

:::

::::


## Flying robots or unmanned aerial vehicles {.smaller}

:::: {.columns}

::: {.column width="70%"}
* Pairwise differences in rotor thrusts cause the vehicle to rotate. The _rolling_
torque is generated by the moments $$ \tau_x = d(T_4 - T_2) = db(\varpi_4^2 - 
\varpi_2^2), $$ where $d$ is the distance from the rotor axis to the center of mass.
* Similarly, the _pitching_ torque is $$ \tau_y = db (\varpi_1^2 - \varpi_3^2). $$
* The torque applied to each propeller by the motor is opposed by aerodynamic drag
$$ Q_i = k \varpi_i^2. $$
* This torque exerts a reaction torque on the airframe which acts to rotate the 
airframe about the propeller shaft in the opposite direction of rotation
$$ \tau_z = Q_1 - Q_2 + Q_3 - Q_4 = k \left( \varpi_1^2 + \varpi_3^2 - \varpi_2^2 - \varpi_4^2 \right). $$

That is, a _yaw_ torque can be created simply by appropriate coordinated control 
of all four rotor speeds.
:::

::: {.column width="30%"}
<center>
<img src="contents/assets/uavs.png" width="400" height="250" />
</center>
<center>
<img src="contents/assets/fig4_20.svg" width="400" height="200" />
</center>

::: {.callout-tip appearance="minimal"}
Quadrotor with four rotors, their thrust vectors and directions of rotation.
Blue rotors rotate ccw while red rotors rotate cw.
:::

:::

::::



## Flying robots or unmanned aerial vehicles {.smaller}

:::: {.columns}

::: {.column width="70%"}
* The rotational dynamics is given by Euler's equation of motion:
$$ \bm{J}\dot{\bm{\omega}} = -\bm{\omega} \times \bm{J}\bm{\omega} + \bm{\tau}, $$
where $\bm{J}$ is the inertia matrix of the vehicle and $\bm{\omega}$ is the 
angular velocity vector.
* The motion of the quadrotor may be predicted by integrating the forward 
dynamics equations we have derived where the wrenches on the airframe
$$
\begin{pmatrix}
T \\ \bm{\tau}
\end{pmatrix} = 
\begin{pmatrix}
-b & -b & -b & -b \\ 0 & -db & 0 & db \\ db & 0 & -db & 0 \\ k & -k & k & -k
\end{pmatrix}
\begin{pmatrix}
\varpi_1^2 \\ \varpi_2^2 \\ \varpi_3^2 \\ \varpi_4^2
\end{pmatrix} = 
\bm{A} 
\begin{pmatrix}
\varpi_1^2 \\ \varpi_2^2 \\ \varpi_3^2 \\ \varpi_4^2
\end{pmatrix}
$$
are functions of the rotor speeds.
* The matrix $\bm{A}$ is constant and full rank so we can solve for the rotor 
speeds needed for desired body wrenches.
:::

::: {.column width="30%"}
<center>
<img src="contents/assets/uavs.png" width="400" height="250" />
</center>
<center>
<img src="contents/assets/fig4_20.svg" width="400" height="200" />
</center>

::: {.callout-tip appearance="minimal"}
Quadrotor with four rotors, their thrust vectors and directions of rotation.
Blue rotors rotate ccw while red rotors rotate cw.
:::

:::

::::
