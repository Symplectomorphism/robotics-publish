[
  {
    "objectID": "02_rigid_motions.html#robotics-and-automated-systems",
    "href": "02_rigid_motions.html#robotics-and-automated-systems",
    "title": "02_rigid_motions",
    "section": "Robotics and Automated Systems",
    "text": "Robotics and Automated Systems\n\n\nRigid Motions\n\n\n\n\nInstructor: Aykut Satici, Ph.D.Â   Mechanical and Biomedical Engineering  Electrical and Computer Engineering  Boise State University, Boise, ID, USA\n\n\nTopics:  Representing Position  Representing Rotations  Representing Pose  Algebra of Rigid Motions"
  },
  {
    "objectID": "02_rigid_motions.html#coordinate-frames-1",
    "href": "02_rigid_motions.html#coordinate-frames-1",
    "title": "02_rigid_motions",
    "section": "Coordinate frames",
    "text": "Coordinate frames\n\n\n\n\nA point is described by a coordinate vector.\n\nThe vector represents the displacement of a point w.r.t. some reference frame â€“ we call this a bound vector.\nNotice that a point is not the same as a vector!\n\nA coordinate frame, is a triad of orthogonal axes which intersect at a point, known as the origin.\nA real object comprises infinitely many points.\n\nAn object, unlike a point, has an orientation.\nAttaching a coordinate frame to an object, every point within it can be described by a constant vector w.r.t. that frame.\n\nThis allows us to describe the position and orientation, the pose, of that objectâ€™s fixed frame w.r.t. a reference coordinate frame.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLeft\n\n\nPoint PP is described by a coordinate vector w.r.t. an absolute coordinate frame.\n\n\n\n\n\n\n\n\n\nRight\n\n\nThe points are described w.r.t. objectâ€™s coordinate frame {B}, which in turn is described by a relative pose Î¾B\\xi_B."
  },
  {
    "objectID": "02_rigid_motions.html#coordinate-frames-2",
    "href": "02_rigid_motions.html#coordinate-frames-2",
    "title": "02_rigid_motions",
    "section": "Coordinate frames",
    "text": "Coordinate frames\n\n\n\n\nWe think of AÎ¾B{^A}\\xi_B as describing some motion: pick up {A}\\{A\\}\n\nApply a displacement and a rotation,\nNow {A}\\{A\\} is transformed to {B}\\{B\\}.\n\nIf the initial superscript is missing, we assume that the pose is w.r.t. the world coordinate frame.\nThe point ğ\\boldsymbol{P} can be described w.r.t. either coordinate frame: Ağ©=AÎ¾Bâ€¢Bğ©. {^A}\\bm{p} = {^A}\\xi_B \\bullet {^B}\\bm{p}. \n\nThe operator â€¢\\bullet transforms the vector.\nThe new vector describes the same point but w.r.t. a different coordinate frame.\n\n\n\n\n\n\n\n\n\n\nRelative pose\n\n\nThe point ğ\\boldsymbol{P} can be descrbied by coordinate vectors relative to either frame {A}\\{A\\} or {B}\\{B\\}. The pose of {B}\\{B\\} relative to {A}\\{A\\} is AÎ¾B{^A}\\xi_B."
  },
  {
    "objectID": "02_rigid_motions.html#coordinate-frames-3",
    "href": "02_rigid_motions.html#coordinate-frames-3",
    "title": "02_rigid_motions",
    "section": "Coordinate frames",
    "text": "Coordinate frames\nÂ \n\n\n\nRelative poses can be composed or compounded. AÎ¾C=AÎ¾BâŠ•BÎ¾C. {^A}\\xi_C = {^A}\\xi_B \\oplus {^B}\\xi_C. \n\n\n\n\n\n\n\nSub/super-script cancellation\n\n\nIf the subscript and superscript on each side of the âŠ•\\oplus operator match, then we can cancel out the intermediate sub/super-scripts. XÎ¾Z=XÎ¾YâŠ•YÎ¾Z. {^X}\\xi_Z = {^X}\\xi_Y \\oplus {^Y}\\xi_Z. \n\n\n\n\nFor this case, the point ğ\\bm{P} can be described by Ağ©=(AÎ¾BâŠ•BÎ¾C)â€¢Cğ©. {^A}\\bm{p} = \\left({^A}\\xi_B \\oplus {^B}\\xi_C\\right) \\bullet {^C}\\bm{p}. \nLater, we will convert these abstract notions of Î¾\\xi, â€¢\\bullet and âŠ•\\oplus into concrete mathematical objects and operators.\n\n\n\n\n\n\n\n\n\nRelative pose\n\n\nThe point ğ\\boldsymbol{P} can be descrbied by coordinate vectors relative to either frame {A}\\{A\\}, {B}\\{B\\} or {C}\\{C\\}. The frames are described by relative poses."
  },
  {
    "objectID": "02_rigid_motions.html#coordinate-frames-more-complex-example",
    "href": "02_rigid_motions.html#coordinate-frames-more-complex-example",
    "title": "02_rigid_motions",
    "section": "Coordinate frames: more complex example",
    "text": "Coordinate frames: more complex example\n\n\n\nThe fixed camera observes the object and estimates the objectâ€™s pose FÎ¾B{^F}\\xi_B.\nThe other camera is not fixed, it is attached to the robot at some constant relative pose and estimates the objectâ€™s pose CÎ¾B{^C}\\xi_B.\nAn alternative representation of the spatial representation is a directed graph.\n\nEach node represents a frame and each edge represents a relative pose.\nRecall: we can compose relative poses, e.g.: Î¾FâŠ•FÎ¾B=Î¾RâŠ•RÎ¾CâŠ•CÎ¾B,Î¾FâŠ•FÎ¾R=Î¾R.\n\\begin{aligned}\n\\xi_F \\oplus {^F}\\xi_B &= \\xi_R \\oplus {^R}\\xi_C \\oplus {^C}\\xi_B, \\\\\n\\xi_F \\oplus {^F}\\xi_R &= \\xi_R.\n\\end{aligned}\n\nEach equation represents a loop in the graph with each side of the equation starting and ending at the same node."
  },
  {
    "objectID": "02_rigid_motions.html#algebraic-rules-of-relative-poses",
    "href": "02_rigid_motions.html#algebraic-rules-of-relative-poses",
    "title": "02_rigid_motions",
    "section": "Algebraic rules of relative poses",
    "text": "Algebraic rules of relative poses\n\n\n\n\n\n\nGroup properties\n\n\nThere are just a few algebraic rules:\nÎ¾âŠ•0=Î¾,Î¾âŠ–0=Î¾,Î¾âŠ–Î¾=0,âŠ–Î¾âŠ•Î¾=0,\n\\begin{aligned}\n\\xi \\oplus 0 = \\xi, \\quad &\\xi \\ominus 0 = \\xi, \\\\\n\\xi \\ominus \\xi = 0, \\quad &\\ominus \\xi \\oplus \\xi = 0,\n\\end{aligned}\n\nwhere 00 represents a zero relative pose. A pose has an inverse\nâŠ–XÎ¾Y=YÎ¾X, \\ominus {^X}\\xi_Y = {^Y}\\xi_X, \nwhich is represented graphically by an arrow from {Y}\\{Y\\} to {X}\\{X\\}. Relative poses can also be composed or compounded\nXÎ¾YâŠ•YÎ¾Z=XÎ¾Z. {^X}\\xi_Y \\oplus {^Y}\\xi_Z = {^X}\\xi_Z. \nA relative pose can transform a point expressed as a vector relative to one frame to a vector relative to another Xğ©=XÎ¾Yâ€¢Yğ©. {^X}\\bm{p} = {^X}\\xi_Y \\bullet {^Y}\\bm{p}. \n\n\n\n\n\n\n\n\n\nComposition is NOT commutative\n\n\nÎ¾1âŠ•Î¾2â‰ Î¾2âŠ•Î¾1, \\xi_1 \\oplus \\xi_2 \\neq \\xi_2 \\oplus \\xi_1, \nwith the exception being the case where Î¾1âŠ•Î¾2=0\\xi_1 \\oplus \\xi_2 = 0."
  },
  {
    "objectID": "02_rigid_motions.html#algebraic-manipulation-of-poses",
    "href": "02_rigid_motions.html#algebraic-manipulation-of-poses",
    "title": "02_rigid_motions",
    "section": "Algebraic manipulation of poses",
    "text": "Algebraic manipulation of poses\n\nThe second loop eqn. in our example says that the pose of the robot is the same as composing two relative poses:\n\nfrom the world frame to the fixed camera,\nfrom the fixed camera to the robot.\n\n\nâŠ–Î¾FâŠ•Î¾FâŠ•FÎ¾R=âŠ–Î¾FâŠ•Î¾RFÎ¾R=âŠ–Î¾FâŠ•Î¾R,\n\\begin{aligned}\n\\ominus \\xi_F \\oplus \\xi_F \\oplus {^F}\\xi_R &= \\ominus \\xi_F \\oplus \\xi_R \\\\\n{^F}\\xi_R &= \\ominus \\xi_F \\oplus \\xi_R,\n\\end{aligned}\n\nwhich is the pose of the robot relative to the fixed camera, shown as the dashed line in the directed graph.\n\n\n\n\n\n\nWriting these expressions by inspection\n\n\nTo find the pose of node XX w.r.t. node YY:\n\nfind a path from {Y}\\{Y\\} to {X}\\{X\\} and write down the relative poses on the edges in a left-to-right order,\nif you traverse the edge in the direction of its arrow, precede it with the âŠ•\\oplus operator, otherwise use âŠ–\\ominus."
  },
  {
    "objectID": "02_rigid_motions.html#working-in-two-dimensions-2d",
    "href": "02_rigid_motions.html#working-in-two-dimensions-2d",
    "title": "02_rigid_motions",
    "section": "Working in two dimensions (22D)",
    "text": "Working in two dimensions (22D)\n\n\n\nA point is represented by its ğ±\\bm{x}- and ğ²\\bm{y}-coordinates (x,y)(x,y) or as a bound vector ğ­=xğ±+yğ². \\bm{t} = x\\bm{x} + y\\bm{y}.\nWe wish to describe the red coordinate frame {B}\\{B\\} with respect to the blue coordinate frame {A}\\{A\\}.\nClearly the origin of {B}\\{B\\} has been displaced by the vector ğ­=(x,y)\\bm{t} = (x, y) and then rotated counter-clockwise by an angle Î¸\\theta.\nA concrete representation of the pose is therefore the 33-vector AÎ¾Bâˆ¼(x,y,Î¸){^A}\\xi_B \\sim (x, y, \\theta).\nUnfortunately, this representation is not convenient for compounding since (x1,y1,Î¸1)âŠ•(x2,y2,Î¸2) (x_1, y_1, \\theta_1) \\oplus (x_2, y_2, \\theta_2)  is a complex trigonometric function of both poses.\nWe will look for a different way to represent the pose.\n\n\n\n\n\n\n\n\n\n2D coordinate frames\n\n\nFamiliar to us from high-school geometry. {B}\\{B\\} is rotated and translated w.r.t. {A}\\{A\\}."
  },
  {
    "objectID": "02_rigid_motions.html#orientation-in-two-dimensions",
    "href": "02_rigid_motions.html#orientation-in-two-dimensions",
    "title": "02_rigid_motions",
    "section": "Orientation in two dimensions",
    "text": "Orientation in two dimensions\nÂ \n\n\n\nFirst, we create an auxiliary frame {V}\\{V\\} whose axes are parallel to those of {A}\\{A\\} but whose origin is the same as {B}\\{B\\}.\nExpress the point ğ\\bm{P} in both {V}\\{V\\} and {B}\\{B\\}: ğ©=xbğ±B+ybğ²B=xvğ±V+yvğ²V. \\bm{p} = x_b \\bm{x}_B + y_b \\bm{y}_B = x_v \\bm{x}_V + y_v \\bm{y}_V. \nIn the same vein, we can express ğ±V\\bm{x}_V and ğ²V\\bm{y}_V in {B}\\{B\\}: ğ±B=cosÎ¸ğ±V+sinÎ¸ğ²V,ğ²B=âˆ’sinÎ¸ğ±V+cosÎ¸ğ²V.\n\\begin{aligned}\n\\bm{x}_B &= \\cos{\\theta}\\bm{x}_V + \\sin{\\theta}\\bm{y}_V, \\\\\n\\bm{y}_B &= -\\sin{\\theta}\\bm{x}_V + \\cos{\\theta}\\bm{y}_V.\n\\end{aligned}\n\nSubstituting these equations into the previous, we obtain: ğ©=(cÎ¸xbâˆ’sÎ¸yb)ğ±V+(sÎ¸xb+cÎ¸yb)ğ²V \\bm{p} = \\left( c_\\theta x_b - s_\\theta y_b \\right)\\bm{x}_V + \n          \\left( s_\\theta x_b + c_\\theta y_b \\right)\\bm{y}_V \nComparing the expressions for ğ©\\bm{p}, we observe (xvyv)=(cÎ¸âˆ’sÎ¸sÎ¸cÎ¸)(xbyb)â‰œVğ‘B(xbyb). \\begin{pmatrix} x_v \\\\ y_v \\end{pmatrix} = \n\\begin{pmatrix}\nc_\\theta & -s_\\theta \\\\ s_\\theta & c_\\theta\n\\end{pmatrix}\\begin{pmatrix} x_b \\\\ y_b \\end{pmatrix} \\triangleq {{^V}\\bm{R}_B}\n\\begin{pmatrix} x_b \\\\ y_b \\end{pmatrix}.\n\n\n\n\n\n\n\n\n\n\nTip\n\n\nRotated coordinate frames in 22D."
  },
  {
    "objectID": "02_rigid_motions.html#orientation-in-two-dimensions-1",
    "href": "02_rigid_motions.html#orientation-in-two-dimensions-1",
    "title": "02_rigid_motions",
    "section": "Orientation in two dimensions",
    "text": "Orientation in two dimensions\nÂ \n\n\n\n\n\n\n\n\nDefinition\n\n\nAğ‘Bâ‰œ[ğ±Bâ‹…ğ±Ağ²Bâ‹…ğ±Ağ±Bâ‹…ğ²Ağ²Bâ‹…ğ²A]\n{^A}\\bm{R}_B \\triangleq\n\\begin{bmatrix}\n  \\bm{x}_B \\cdot \\bm{x}_A & \\bm{y}_B \\cdot \\bm{x}_A \\\\\n  \\bm{x}_B \\cdot \\bm{y}_A & \\bm{y}_B \\cdot \\bm{y}_A\n\\end{bmatrix}\n\n\n\n\n\n\n\n\n\n\nProperties of 22-D rotation matrices\n\n\n\nThey are orthonormal: each of its columns is a unit vector and columns are orthogonal.\nThe columns are the unit vectors that define the axes of the rotated frame {B}\\{B\\} w.r.t. {A}\\{A\\}.\nIt belongs to the special orthogonal group of dimension 22, i.e., ğ‘âˆˆğ’ğ(2)\\bm{R} \\in \\bm{SO}(2). This means that the product of any two such matrices belongs to the same group as its inverse.\nIts determinant is +1+1, which means, in particular, that the length of a vector is unchanged after transformation, i.e., âˆ¥Bğ©âˆ¥=âˆ¥Ağ©âˆ¥\\left\\| {^B}\\bm{p} \\right\\| = \\left\\| {^A}\\bm{p} \\right\\|, for all Î¸\\theta.\nThe inverse is the same as the transpose, i.e., ğ‘âˆ’1=ğ‘âŠ¤\\bm{R}^{-1} = \\bm{R}^\\top.\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\nRotated coordinate frames in 22D."
  },
  {
    "objectID": "02_rigid_motions.html#pose-in-two-dimensions",
    "href": "02_rigid_motions.html#pose-in-two-dimensions",
    "title": "02_rigid_motions",
    "section": "Pose in two dimensions",
    "text": "Pose in two dimensions\n\n\n\nLetâ€™s account for the translation btw. the origins of {A}\\{A\\} and {B}\\{B\\}.\nSince the axes {V}\\{V\\} and {A}\\{A\\} are parallel, we can add (xaya)=(xvyv)+(xy)=[cÎ¸âˆ’sÎ¸sÎ¸cÎ¸](xbyb)+(xy)=[cÎ¸âˆ’sÎ¸xsÎ¸cÎ¸y](xbyb1)\n\\begin{aligned}\n\\begin{pmatrix}\nx_a \\\\ y_a\n\\end{pmatrix} &= \n\\begin{pmatrix}\nx_v \\\\ y_v\n\\end{pmatrix} + \n\\begin{pmatrix}\nx \\\\ y\n\\end{pmatrix} = \n\\begin{bmatrix}\nc_\\theta & -s_\\theta \\\\ s_\\theta & c_\\theta\n\\end{bmatrix}\n\\begin{pmatrix}\nx_b \\\\ y_b\n\\end{pmatrix} + \n\\begin{pmatrix}\nx \\\\ y \n\\end{pmatrix} \\\\ \n&= \\begin{bmatrix}\nc_\\theta & -s_\\theta & x \\\\ s_\\theta & c_\\theta & y\n\\end{bmatrix}\n\\begin{pmatrix}\nx_b \\\\ y_b \\\\ 1\n\\end{pmatrix}\n\\end{aligned}\n or more compactly as\n\n(xaya1)=[Ağ‘Bğ­01Ã—21](xbyb1).\n\\begin{pmatrix}\nx_a \\\\ y_a \\\\ 1\n\\end{pmatrix} = \n\\begin{bmatrix}\n{^A}\\bm{R}_B & \\bm{t} \\\\ \\bm{0}_{1 \\times 2} & 1\n\\end{bmatrix}\n\\begin{pmatrix}\nx_b \\\\ y_b \\\\ 1\n\\end{pmatrix}.\n\n\nThis is called the homogeneous representation and we write: Ağ©=[Ağ‘Bğ­01Ã—21]Bğ©=Ağ“BBğ©. \n{^A}\\bm{p} = \n\\begin{bmatrix}\n{^A}\\bm{R}_B & \\bm{t} \\\\ \\bm{0}_{1 \\times 2} & 1\n\\end{bmatrix}\n{^B}\\bm{p} = {^A}\\bm{T}_B {^B}\\bm{p}.\n\n\n\n\n\n\n\n\nFigures\n\n\nRotated coordinate frames in 22D."
  },
  {
    "objectID": "02_rigid_motions.html#homogeneous-transformations-in-2d",
    "href": "02_rigid_motions.html#homogeneous-transformations-in-2d",
    "title": "02_rigid_motions",
    "section": "Homogeneous transformations in 22D",
    "text": "Homogeneous transformations in 22D\n\nThe matrix Ağ“B{^A}\\bm{T}_B has a very specific structure and belongs to the special Euclidean group of dimension 22 or ğ“âˆˆğ’ğ„(2)\\bm{T} \\in \\bm{SE}(2).\nThis matrix is often referred to as a rigid-body motion.\n\n\n\n\nProperties of homogeneous transformations\n\n\nğ“=[cÎ¸âˆ’sÎ¸xsÎ¸cÎ¸y001]\n\\bm{T} = \\begin{bmatrix}\nc_\\theta & -s_\\theta & x \\\\ s_\\theta & c_\\theta & y \\\\ 0 & 0 & 1\n\\end{bmatrix}\n\nA concrete representation of relative pose Î¾\\xi is Î¾âˆ¼ğ“âˆˆğ’ğ„(2)\\xi \\sim \\bm{T} \\in \\bm{SE}(2) and ğ“1âŠ•ğ“2â†¦ğ“1ğ“2\\bm{T}_1 \\oplus \\bm{T}_2 \\mapsto \\bm{T}_1\\bm{T}_2 which is the standard matrix multiplication\nğ“1ğ“2=[ğ‘1ğ­101Ã—21][ğ‘2ğ­201Ã—21][ğ‘1ğ‘2ğ­1+ğ‘1t201Ã—21].\n\\bm{T}_1 \\bm{T}_2 = \n\\begin{bmatrix}\n\\bm{R}_1 & \\bm{t}_1 \\\\ \\bm{0}_{1 \\times 2} & 1\n\\end{bmatrix}\n\\begin{bmatrix}\n\\bm{R}_2 & \\bm{t}_2 \\\\ \\bm{0}_{1 \\times 2} & 1\n\\end{bmatrix}\n\\begin{bmatrix}\n\\bm{R}_1\\bm{R}_2 & \\bm{t}_1 + \\bm{R}_1t_2 \\\\ \\bm{0}_{1 \\times 2} & 1\n\\end{bmatrix}.\n\nOne of the algebraic rules was Î¾âŠ•0=Î¾\\xi \\oplus 0 = \\xi. For matrices, we know that ğ“ğˆ=ğ“\\bm{T} \\bm{I} = \\bm{T}, where ğˆ\\bm{I} is the identity matrix. So for pose, we make the identification 0â†”ğˆ0 \\leftrightarrow \\bm{I}.\nAnother rule was that Î¾âŠ–Î¾=0\\xi \\ominus \\xi = 0. We know for matrices that ğ“ğ“âˆ’1=ğˆ\\bm{T} \\bm{T}^{-1} = \\bm{I}, which implies that âŠ–ğ“â†”ğ“âˆ’1\\ominus \\bm{T} \\leftrightarrow \\bm{T}^{-1}.\nFinally, for a point ğ©\\bm{p} in homogeneous representation, we have ğ“â€¢ğ©â†”ğ“ğ©\\bm{T} \\bullet \\bm{p} \\leftrightarrow \\bm{Tp}, which is a standard matrix-vector product."
  },
  {
    "objectID": "02_rigid_motions.html#working-in-three-dimensions-3d",
    "href": "02_rigid_motions.html#working-in-three-dimensions-3d",
    "title": "02_rigid_motions",
    "section": "Working in three dimensions (33D)",
    "text": "Working in three dimensions (33D)\nÂ \n\n\n\nA point ğ\\bm{P} is represented by its ğ±\\bm{x}-, ğ²\\bm{y}-, and ğ³\\bm{z}-coordinates (x,y,z)(x,y,z) or as a bound vector ğ­=xğ±+yğ²+zğ³. \\bm{t} = x\\bm{x} +\ny\\bm{y}+ z\\bm{z}.\nWe wish to describe the red coordinate frame {B}\\{B\\} with respect to the blue coordinate frame {A}\\{A\\}.\nClearly the origin of {B}\\{B\\} has been displaced by the vector ğ­=(x,y,z)\\bm{t} = (x, y, z) and then rotated in some complex fashion.\nOur approach is again to consider an arbitrary point ğ\\bm{P} w.r.t. each of the coordinate frames and to determine the relationship between Ağ©{^A}\\bm{p} and Bğ©{^B}\\bm{p}.\nRotation is much more complex for the 33D case so weâ€™ll spend a good amount of time on it.\n\n\n\n\n\n\n\n\n\n3D coordinate frames\n\n\n{B}\\{B\\} is rotated and translated w.r.t. {A}\\{A\\}."
  },
  {
    "objectID": "02_rigid_motions.html#orientation-in-three-dimensions",
    "href": "02_rigid_motions.html#orientation-in-three-dimensions",
    "title": "02_rigid_motions",
    "section": "Orientation in three dimensions",
    "text": "Orientation in three dimensions\n\n\n\nEulerâ€™s rotation theorem (Kuipers 1999)\n\n\nAny two independent orthonormal coordinate frames can be related by a sequence of rotations (not more than three) about coordinate axes, where no two successive rotations may be about the same axis.\n\n\n\n\n\n\n\n\n\n\n\nRotation of a 33D coordinate frame\n\n\n{~}(a) original coordinate frame, (b-f) frame (a) after various rotations as indicated.\n\n\n\n\n\n\n\n\n\n\nNoncommutativity of rotation\n\n\nTop row: Frame rotated by Ï€2\\frac{\\pi}{2} about the xx-axis and then by Ï€2\\frac{\\pi}{2} about the yy-axis. Bottom row: reverse order."
  },
  {
    "objectID": "02_rigid_motions.html#orientation-in-three-dimensions-1",
    "href": "02_rigid_motions.html#orientation-in-three-dimensions-1",
    "title": "02_rigid_motions",
    "section": "Orientation in three dimensions",
    "text": "Orientation in three dimensions\n\n\n\nDefinition\n\n\nAğ‘Bâ‰œ[ğ±Bâ‹…ğ±Ağ²Bâ‹…ğ±Ağ³Bâ‹…ğ±Ağ±Bâ‹…ğ²Ağ²Bâ‹…ğ²Ağ³Bâ‹…ğ²Ağ±Bâ‹…ğ³Ağ²Bâ‹…ğ³Ağ³Bâ‹…ğ³A]\n{^A}\\bm{R}_B \\triangleq\n\\begin{bmatrix}\n\\bm{x}_B \\cdot \\bm{x}_A & \\bm{y}_B \\cdot \\bm{x}_A & \\bm{z}_B \\cdot \\bm{x}_A \\\\\n\\bm{x}_B \\cdot \\bm{y}_A & \\bm{y}_B \\cdot \\bm{y}_A & \\bm{z}_B \\cdot \\bm{y}_A \\\\\n\\bm{x}_B \\cdot \\bm{z}_A & \\bm{y}_B \\cdot \\bm{z}_A & \\bm{z}_B \\cdot \\bm{z}_A\n\\end{bmatrix}\n\nThe matrix Ağ‘B{^A}\\bm{R}_B transforms the components of a vector defined w.r.t. some frame {B}\\{B\\} to its components w.r.t. frame {A}\\{A\\}.\nAğ¯=Ağ‘BBğ¯. {^A}\\bm{v} = {^A}\\bm{R}_B {^B}\\bm{v}. \n\n\n\n\n\n\nProperties of 33-D rotation matrices\n\n\n\nThey are orthonormal: each of its columns is a unit vector and columns are orthogonal.\nThe columns are the unit vectors that define the axes of the rotated frame {B}\\{B\\} w.r.t. {A}\\{A\\}.\nIt belongs to the special orthogonal group of dimension 33, i.e., ğ‘âˆˆğ’ğ(3)\\bm{R} \\in \\bm{SO}(3). This means that the product of any two such matrices belongs to the same group as its inverse.\nIts determinant is +1+1, which means, in particular, that the length of a vector is unchanged after transformation, i.e., âˆ¥Bğ©âˆ¥=âˆ¥Ağ©âˆ¥\\left\\| {^B}\\bm{p} \\right\\| = \\left\\| {^A}\\bm{p} \\right\\|, for all Î¸\\theta.\nThe inverse is the same as the transpose, i.e., ğ‘âˆ’1=ğ‘âŠ¤\\bm{R}^{-1} = \\bm{R}^\\top."
  },
  {
    "objectID": "02_rigid_motions.html#basic-rotation-matrices",
    "href": "02_rigid_motions.html#basic-rotation-matrices",
    "title": "02_rigid_motions",
    "section": "Basic rotation matrices",
    "text": "Basic rotation matrices\nThe rotation matrices representing a rotation of Î¸\\theta about the xx-, yy-, and zz-axes are\n\n\n\nğ‘x,Î¸=[1000cÎ¸âˆ’sÎ¸0sÎ¸cÎ¸]\n\\bm{R}_{x,\\theta} = \n\\begin{bmatrix}\n1 & 0 & 0 \\\\ 0 & c_\\theta & -s_\\theta \\\\ 0 & s_\\theta & c_\\theta\n\\end{bmatrix}\n\n\n\nğ‘y,Î¸=[cÎ¸0sÎ¸010âˆ’sÎ¸0cÎ¸]\n\\bm{R}_{y,\\theta} = \n\\begin{bmatrix}\nc_\\theta & 0 & s_\\theta \\\\ 0 & 1 & 0 \\\\ -s_\\theta & 0 & c_\\theta\n\\end{bmatrix}\n\n\n\nğ‘z,Î¸=[cÎ¸âˆ’sÎ¸0sÎ¸cÎ¸0001]\n\\bm{R}_{z,\\theta} = \n\\begin{bmatrix}\nc_\\theta & -s_\\theta & 0 \\\\ s_\\theta & c_\\theta & 0 \\\\ 0 & 0 & 1\n\\end{bmatrix}\n\n\n\n\n\n\nRecall from Eulerâ€™s rotation theorem that any rotation can be represented by not more than three rotations about coordinate axes.\nThis means that an arbitrary rotation between frames can be decomposed into a sequence of three rotation angles and associated rotation axes."
  },
  {
    "objectID": "02_rigid_motions.html#constraints-in-the-rotation-matrix",
    "href": "02_rigid_motions.html#constraints-in-the-rotation-matrix",
    "title": "02_rigid_motions",
    "section": "Constraints in the rotation matrix",
    "text": "Constraints in the rotation matrix\nÂ \n\n\nThe nine elements rijr_{ij} in an arbitrary rotational transformation ğ‘âˆˆğ’ğ(3)\\bm{R} \\in \\bm{SO}(3) are not independent quantities:\nColumns of ğ‘\\bm{R} are unit vectors and they are mutually orthogonal:\n\nâˆ‘irij2=1,jâˆˆ{1,2,3},r1ir1j+r2ir2j+r3ir3j=0,iâ‰ j.\n\\begin{aligned}\n\\sum_{i}r_{ij}^2 &= 1, \\quad j \\in \\{1, 2, 3\\}, \\\\\nr_{1i}r_{1j} + r_{2i}r_{2j} + r_{3i}r_{3j} &= 0, \\quad i \\neq j.\n\\end{aligned}\n\n\n\n\n\n\nThere are three free parameters!\n\n\nTogether, these constraints define six independent equations with nine unknowns."
  },
  {
    "objectID": "02_rigid_motions.html#euler-angles-zyz",
    "href": "02_rigid_motions.html#euler-angles-zyz",
    "title": "02_rigid_motions",
    "section": "Euler angles (ZYZ)",
    "text": "Euler angles (ZYZ)\n\n\n\nFirst rotate by the angle Ï•\\phi about the zz-axis,\nNext rotate by the angle Î¸\\theta about the yy-axis,\nFinally rotate by the angle Ïˆ\\psi about the zz-axis.\n\n\n\n\n\n\n\nğ‘ZYZ=ğ‘z,Ï•ğ‘y,Î¸ğ‘z,Ïˆ=[cÏ•âˆ’sÏ•0sÏ•cÏ•0001][cÎ¸0sÎ¸010âˆ’sÎ¸0cÎ¸][cÏˆâˆ’sÏˆ0sÏˆcÏˆ0001]=[cÏ•cÎ¸cÏˆâˆ’sÏ•sÏˆâˆ’cÏ•cÎ¸sÏˆâˆ’sÏ•cÏˆcÏ•sÎ¸sÏ•cÎ¸cÏˆ+cÏ•sÏˆâˆ’sÏ•cÎ¸sÏˆ+cÏ•cÏˆsÏ•sÎ¸âˆ’sÎ¸cÏˆsÎ¸sÏˆcÎ¸].\n\\begin{aligned}\n\\bm{R}_{ZYZ} = \\bm{R}_{z,\\phi}\\bm{R}_{y,\\theta}\\bm{R}_{z,\\psi} &= \n\\begin{bmatrix}\nc_\\phi& -s_\\phi& 0 \\\\ s_\\phi & c_\\phi & 0 \\\\ 0 & 0 & 1\n\\end{bmatrix}\n\\begin{bmatrix}\nc_\\theta & 0 & s_\\theta \\\\ 0 & 1 & 0 \\\\ -s_\\theta & 0 & c_\\theta\n\\end{bmatrix}\n\\begin{bmatrix}\nc_\\psi& -s_\\psi& 0 \\\\ s_\\psi & c_\\psi & 0 \\\\ 0 & 0 & 1\n\\end{bmatrix} \\\\ \n&= \\begin{bmatrix}\nc_\\phi c_\\theta c_\\psi - s_\\phi s_\\psi & -c_\\phi c_\\theta s_\\psi - s_\\phi c_\\psi & c_\\phi s_\\theta \\\\\ns_\\phi c_\\theta c_\\psi + c_\\phi s_\\psi & -s_\\phi c_\\theta s_\\psi + c_\\phi c_\\psi & s_\\phi s_\\theta \\\\\n-s_\\theta c_\\psi & s_\\theta s_\\psi & c_\\theta\n\\end{bmatrix}.\n\\end{aligned}"
  },
  {
    "objectID": "02_rigid_motions.html#zyz-euler-angles-inverse-problem",
    "href": "02_rigid_motions.html#zyz-euler-angles-inverse-problem",
    "title": "02_rigid_motions",
    "section": "ZYZ Euler angles: inverse problem",
    "text": "ZYZ Euler angles: inverse problem\n\n\n\nFor a given ğ‘âˆˆğ’ğ(3)\\bm{R} \\in \\bm{SO}(3), find a set of Euler angles Ï•\\phi, Î¸\\theta, and Ïˆ\\psi that satisfy\nğ‘=[cÏ•cÎ¸cÏˆâˆ’sÏ•sÏˆâˆ’cÏ•cÎ¸sÏˆâˆ’sÏ•cÏˆcÏ•sÎ¸sÏ•cÎ¸cÏˆ+cÏ•sÏˆâˆ’sÏ•cÎ¸sÏˆ+cÏ•cÏˆsÏ•sÎ¸âˆ’sÎ¸cÏˆsÎ¸sÏˆcÎ¸].\n\\bm{R} = \n\\begin{bmatrix}\nc_\\phi c_\\theta c_\\psi - s_\\phi s_\\psi & -c_\\phi c_\\theta s_\\psi - s_\\phi c_\\psi & c_\\phi s_\\theta \\\\\ns_\\phi c_\\theta c_\\psi + c_\\phi s_\\psi & -s_\\phi c_\\theta s_\\psi + c_\\phi c_\\psi & s_\\phi s_\\theta \\\\\n-s_\\theta c_\\psi & s_\\theta s_\\psi & c_\\theta\n\\end{bmatrix}.\n\n\n\n\n\n\n\nCase 1. Not both r13r_{13}, r23r_{23} are zero.\n\n\n\nsÎ¸â‰ 0s_\\theta \\neq 0. thus, not both r31r_{31}, r32r_{32} are zero.\nTherefore, r33â‰ Â±1r_{33} \\neq \\pm 1 and we have cÎ¸=r33c_\\theta = r_{33} and sÎ¸=Â±1âˆ’r332s_\\theta = \\pm \\sqrt{1 - r_{33}^2}.\nThere are two solutions, depending on the sign chosen for Î¸\\theta.\n\n\n\n\nÎ¸=arctan2(1âˆ’r332,r33)Î¸=arctan2(âˆ’1âˆ’r332,r33)\n\\begin{aligned}\n  \\theta &= \\arctan_2{ \\left( \\sqrt{1-r_{33}^2}, r_{33} \\right) } \\\\\n  \\theta &= \\arctan_2{ \\left( -\\sqrt{1-r_{33}^2}, r_{33} \\right) }\n\\end{aligned}\n\n\n\nÏ•=arctan2(r23,r13)Ï•=arctan2(âˆ’r23,âˆ’r13)\n\\begin{aligned}\n  \\phi &= \\arctan_2{ \\left( r_{23}, r_{13} \\right) } \\\\\n  \\phi &= \\arctan_2{ \\left( -r_{23}, -r_{13} \\right) }\n\\end{aligned}\n\n\n\nÏˆ=arctan2(âˆ’r32,r31)Ïˆ=arctan2(r32,âˆ’r31)\n\\begin{aligned}\n  \\psi &= \\arctan_2{ \\left( -r_{32}, r_{31} \\right) } \\\\\n  \\psi &= \\arctan_2{ \\left( r_{32}, -r_{31} \\right) }\n\\end{aligned}"
  },
  {
    "objectID": "02_rigid_motions.html#zyz-euler-angles-inverse-problem-1",
    "href": "02_rigid_motions.html#zyz-euler-angles-inverse-problem-1",
    "title": "02_rigid_motions",
    "section": "ZYZ Euler angles: inverse problem",
    "text": "ZYZ Euler angles: inverse problem\n\n\n\nCase 2. r13=r23=0r_{13} = r_{23} = 0 so that r33=Â±1r_{33} = \\pm 1 and r31=r32=0r_{31} = r_{32} = 0.\n\n\n\nğ‘\\bm{R} has the form\n\n\nğ‘=[r11r120r12r22000Â±1]. \\bm{R} = \\begin{bmatrix} r_{11} & r_{12} & 0 \\\\ \nr_{12} & r_{22} & 0 \\\\ 0 & 0 & \\pm 1 \\end{bmatrix}. \n\n\nIf r33=+1r_{33} = +1, then cÎ¸=1c_\\theta = 1 and sÎ¸=0s_\\theta = 0 so that Î¸=0\\theta = 0 and ğ‘\\bm{R} becomes\n\n\nğ‘=[cÏ•cÏˆâˆ’sÏ•sÏˆâˆ’cÏ•sÏˆâˆ’sÏ•cÏˆ0sÏ•cÏˆ+cÏ•sÏˆâˆ’sÏ•sÏˆ+cÏ•cÏˆ0001]=[cÏ•+Ïˆâˆ’sÏ•+Ïˆ0sÏ•+ÏˆcÏ•+Ïˆ0001].\n\\bm{R} = \n\\begin{bmatrix}\n  c_\\phi c_\\psi - s_\\phi s_\\psi & -c_\\phi s_\\psi - s_\\phi c_\\psi & 0 \\\\\n  s_\\phi c_\\psi + c_\\phi s_\\psi & -s_\\phi s_\\psi + c_\\phi c_\\psi & 0 \\\\\n  0 & 0 & 1\n\\end{bmatrix} = \n\\begin{bmatrix}\n  c_{\\phi+\\psi} & -s_{\\phi+\\psi} & 0 \\\\\n  s_{\\phi+\\psi} & c_{\\phi+\\psi} & 0 \\\\\n  0 & 0 & 1\n\\end{bmatrix}.\n\n\nThus, the sum can be determined as Ï•+Ïˆ=arctan2(r11,r21)=arctan2(r11,âˆ’r12). \\phi + \\psi = \\arctan_2{ \\left( r_{11}, \nr_{21} \\right) } = \\arctan_2{ \\left( r_{11}, -r_{12} \\right) }. \n\nIf r33=âˆ’1r_{33} = -1, then cÎ¸=âˆ’1c_\\theta = -1 and sÎ¸=0s_\\theta = 0 so that Î¸=Ï€\\theta = \\pi and ğ‘\\bm{R} becomes\n\n\nğ‘=[âˆ’cÏ•âˆ’Ïˆâˆ’sÏ•âˆ’Ïˆ0sÏ•âˆ’ÏˆcÏ•âˆ’Ïˆ000âˆ’]=[r11r120r21r22000âˆ’1].\n\\bm{R} = \n\\begin{bmatrix}\n  -c_{\\phi-\\psi} & -s_{\\phi-\\psi} & 0 \\\\\n  s_{\\phi-\\psi} & c_{\\phi-\\psi} & 0 \\\\\n  0 & 0 & -\n\\end{bmatrix} = \n\\begin{bmatrix}\n  r_{11} & r_{12} & 0 \\\\ r_{21} & r_{22} & 0 \\\\ 0 & 0 & -1\n\\end{bmatrix}.\n\n\nThe solution isÏ•âˆ’Ïˆ=arctan2(âˆ’r11,âˆ’r12). \\phi - \\psi = \\arctan_2{ \\left( -r_{11}, -r_{12} \\right) }."
  },
  {
    "objectID": "02_rigid_motions.html#roll-pitch-yaw-angles",
    "href": "02_rigid_motions.html#roll-pitch-yaw-angles",
    "title": "02_rigid_motions",
    "section": "Roll-pitch-yaw angles",
    "text": "Roll-pitch-yaw angles\nÂ \n\n\n\nğ‘\\bm{R} described as a product of successive rotations about the principal coordinate axes zz, yâ€²y^\\prime, and xâ€²â€²x^{\\prime\\prime} taken in a specific order.\n\nFirst a yaw about zz through an angle Ïˆ\\psi,\nThen pitch about the current yâ€²y^\\prime by an angle Î¸\\theta,\nFinally roll about the current xâ€²â€²x^{\\prime\\prime} by an angle Ï•\\phi.\n\nThe resulting transformation matrix is given by\n\n\n\n\n\n\n\n\nÏ•\\phi: roll, Î¸\\;\\theta: pitch, Ïˆ\\;\\psi: yaw\n\n\n\nğ‘=ğ‘z,Ïˆğ‘y,Î¸ğ‘x,Ï•=(cÏˆâˆ’sÏˆ0sÏˆcÏˆ0001)(cÎ¸0sÎ¸010âˆ’sÎ¸0cÎ¸)(1000cÏ•âˆ’sÏ•0sÏ•cÏ•)=(cÏˆcÎ¸âˆ’sÏˆcÏ•+cÏˆsÎ¸sÏ•sÏˆsÏ•+cÏˆsÎ¸cÏ•sÏˆcÎ¸cÏˆcÏ•+sÏˆsÎ¸sÏ•âˆ’cÏˆsÏ•+sÏˆsÎ¸cÏ•âˆ’sÎ¸cÎ¸sÏ•cÎ¸cÏ•)\n\\begin{aligned}\n\\bm{R} &= \\bm{R}_{z,\\psi}\\bm{R}_{y,\\theta}\\bm{R}_{x,\\phi} = \n\\begin{pmatrix}\nc_\\psi & -s_\\psi & 0 \\\\ s_\\psi & c_\\psi & 0 \\\\ 0 & 0 & 1\n\\end{pmatrix}\n\\begin{pmatrix}\nc_\\theta & 0 & s_\\theta \\\\ 0 & 1 & 0 \\\\ -s_\\theta & 0 & c_\\theta\n\\end{pmatrix}\n\\begin{pmatrix}\n1 & 0 & 0 \\\\ 0 & c_\\phi & -s_\\phi \\\\ 0 & s_\\phi & c_\\phi\n\\end{pmatrix} = \n\\begin{pmatrix}\nc_\\psi c_\\theta & - s_\\psi c_\\phi + c_\\psi s_\\theta s_\\phi & s_\\psi s_\\phi + c_\\psi s_\\theta c_\\phi \\\\\ns_\\psi c_\\theta & c_\\psi c_\\phi + s_\\psi s_\\theta s_\\phi & -c_\\psi s_\\phi + s_\\psi s_\\theta c_\\phi \\\\\n-s_\\theta & c_\\theta s_\\phi & c_\\theta c_\\phi\n\\end{pmatrix}\n\\end{aligned}\n\nThe three angles Ïˆ\\psi, Î¸\\theta, and Ï•\\phi can be obtained for a given rotation matrix using a method that is similar to that used to derive the Euler angles above."
  },
  {
    "objectID": "02_rigid_motions.html#similarity-transformations",
    "href": "02_rigid_motions.html#similarity-transformations",
    "title": "02_rigid_motions",
    "section": "Similarity transformations",
    "text": "Similarity transformations\n\n\n\nA coordinate frame is defined by a set of basis vectors.\n\nA rotation matrix, as a coordinate transformation, can be viewed as defining a change of basis from one frame to another.\nThe matrix representation of a general linear transformation is transformed from one frame to another using a so-called\n\n\n\n\n\nSimilarity Transformation\n\n\nIf ğ€\\bm{A} is the matrix representation of a given linear transformation in frame {j}\\{j\\} and ğ\\bm{B} is the representation of the same linear transformation in {k}\\{k\\}, then ğ€\\bm{A} and ğ\\bm{B} are related as\nğ=(jğ‘k)âˆ’1ğ€jğ‘k or ğ€=jğ‘kğ(jğ‘k)âˆ’1. \\bm{B} = \\left({^j}\\bm{R}_k\\right)^{-1} \\; \\bm{A} \\; {^j}\\bm{R}_k \\qquad\n\\text{ or } \\qquad \\bm{A} = {^j}\\bm{R}_k \\; \\bm{B} \\;\n\\left({^j}\\bm{R}_k\\right)^{-1}. \nwhere jğ‘k{^j}\\bm{R}_k is the coordinate transformation between frames {k}\\{k\\} and {j}\\{j\\}.\n\n\n\n\n\n\n\nExample\n\n\nSuppose frames {0}\\{0\\} and {1}\\{1\\} are related by the rotation\n0ğ‘1=(001010âˆ’100).\n{^0}\\bm{R}_1 = \\begin{pmatrix}\n0 & 0 & 1 \\\\ 0 & 1 & 0 \\\\ -1 & 0 & 0\n\\end{pmatrix}.\n\nIf ğ€=ğ‘z,Î¸\\bm{A} = \\bm{R}_{z,\\theta} relative to the frame {0}\\{0\\}, then, relative to frame {1}\\{1\\} we have\nğ=(0ğ‘1)âˆ’1ğ€0ğ‘1=(1000cÎ¸sÎ¸0âˆ’sÎ¸cÎ¸).\n\\bm{B} = \\left({^0}\\bm{R}_1\\right)^{-1} \\bm{A} {^0}\\bm{R}_1 = \\begin{pmatrix}\n1 & 0 & 0 \\\\ 0 & c_\\theta & s_\\theta \\\\ 0 & -s_\\theta & c_\\theta\n\\end{pmatrix}.\n\nIn other words, ğ\\bm{B} is a rotation about the ğ³0\\bm{z}_0-axis, but expressed relative to frame {1}\\{1\\}. Note that, in frame {1}\\{1\\}, it is represented by a rotation by Î¸\\theta about the âˆ’ğ±1-\\bm{x}_1-axis.\nThis is not surprising because we can read from the third column of 0ğ‘1{^0}\\bm{R}_1 that\nğ±1=âˆ’ğ³0.\\bm{x}_1 = -\\bm{z}_0."
  },
  {
    "objectID": "02_rigid_motions.html#axis-angle-representation",
    "href": "02_rigid_motions.html#axis-angle-representation",
    "title": "02_rigid_motions",
    "section": "Axis-angle representation",
    "text": "Axis-angle representation\n\n\n\nRotations: not always performed about the principal coordinate axes.\n\nLet the axis ğ¤=(kxkykz)âŠ¤\\bm{k} = \\begin{pmatrix} k_x & k_y & k_z \\end{pmatrix}^\\top, expressed in {0}\\{0\\}, be a unit vector.\n\nFind a rotation matrix ğ‘k,Î¸\\bm{R}_{k,\\theta} representing a rotation of Î¸\\theta about axis ğ¤\\bm{k}\n\nThe rotational transformation ğ‘=ğ‘z,Î±ğ‘y,Î²\\bm{R} = \\bm{R}_{z,\\alpha}\\bm{R}_{y,\\beta} brings the world zz-axis into alignment with the vector ğ¤\\bm{k}.\nA rotation about the axis ğ¤\\bm{k} is computed using a similarity transformation as\n\nğ‘k,Î¸=ğ‘ğ‘z,Î¸ğ‘âˆ’1=ğ‘z,Î±ğ‘y,Î²ğ‘z,Î¸ğ‘y,âˆ’Î²ğ‘z,âˆ’Î±=ğ‘âˆ’k,âˆ’Î¸. \\bm{R}_{k,\\theta} = \\bm{R}\\bm{R}_{z,\\theta}\\bm{R}^{-1} =\n\\bm{R}_{z,\\alpha}\\bm{R}_{y,\\beta}\\bm{R}_{z,\\theta}\\bm{R}_{y,-\\beta}\\bm{R}_{z,-\\alpha}\n= \\bm{R}_{-k,-\\theta}.\n\n\n\nAfter some lengthy calculation (homework) and with vÎ¸=versÎ¸=1âˆ’cÎ¸v_\\theta = \\text{vers}\\;{\\theta} = 1-c_\\theta,\n\n\nğ‘k,Î¸=(kx2vÎ¸+cÎ¸kxkyvÎ¸âˆ’kzsÎ¸kxkzvÎ¸+kysÎ¸kxkyvÎ¸+kzsÎ¸ky2vÎ¸+cÎ¸kykzvÎ¸âˆ’kxsÎ¸kxkzvÎ¸âˆ’kysÎ¸kykzvÎ¸+kxsÎ¸kz2vÎ¸+cÎ¸)\n\\bm{R}_{k,\\theta} = \\begin{pmatrix}\nk_x^2v_\\theta + c_\\theta & k_xk_yv_\\theta - k_zs_\\theta & k_xk_zv_\\theta + k_ys_\\theta \\\\\nk_xk_yv_\\theta + k_zs_\\theta & k_y^2v_\\theta +c_\\theta & k_yk_zv_\\theta - k_xs_\\theta \\\\\nk_xk_zv_\\theta - k_ys_\\theta & k_yk_zv_\\theta + k_xs_\\theta & k_z^2v_\\theta + c_\\theta\n\\end{pmatrix}\n\n\n\n\n\n\n\nsinÎ±=kykx2+ky2,cosÎ±=kxkx2+ky2sinÎ²=kx2+ky2,cosÎ²=kz.\n\\begin{aligned}\n\\sin{\\alpha} &= \\frac{k_y}{\\sqrt{k_x^2+k_y^2}}, \\;\\; \\cos{\\alpha} =\n\\frac{k_x}{\\sqrt{k_x^2+k_y^2}} \\\\\n\\sin{\\beta} &= \\sqrt{k_x^2+k_y^2}, \\;\\; \\cos{\\beta} = k_z.\n\\end{aligned}\n\n\nÂ \nGiven ğ‘\\bm{R}, find: Î¸\\theta and ğ¤\\bm{k}\n\nÎ¸=arccos(12(trğ‘âˆ’1)),ğ¤=12sinÎ¸(r32âˆ’r23r13âˆ’r31r21âˆ’r12). \n\\begin{aligned}\n\\theta &= \\arccos{\\left( \\frac{1}{2}\\left(\\text{tr} \\; \\bm{R} - 1\\right) \\right)}, \\\\\n\\bm{k} &= \\frac{1}{2 \\sin{\\theta}} \\begin{pmatrix} r_{32} - r_{23} \\\\\nr_{13}-r_{31} \\\\ r_{21} - r_{12} \\end{pmatrix}.\n\\end{aligned}"
  },
  {
    "objectID": "02_rigid_motions.html#axis-angle-representation-1",
    "href": "02_rigid_motions.html#axis-angle-representation-1",
    "title": "02_rigid_motions",
    "section": "Axis-angle representation",
    "text": "Axis-angle representation\n\n\n\nAxis-angle representation characterizes a given rotation by four quantities:\n\nThree components of the equivalent axis ğ¤\\bm{k},\nThe equivalent angle Î¸\\theta.\n\nğ¤\\bm{k} is given as a unit vector so only two of its components are independent.\nWe can represent the equivalent angle-axis by a single vector ğ«\\bm{r} as r=(rxryrz)âŠ¤=(Î¸kxÎ¸kyÎ¸kz)âŠ¤. r = \\begin{pmatrix} r_x & r_y & r_z \\end{pmatrix}^\\top = \\begin{pmatrix}\n\\theta k_x & \\theta k_y & \\theta k_z \\end{pmatrix}^\\top. \nSince âˆ¥ğ¤âˆ¥=1\\left\\|\\bm{k}\\right\\| = 1, âˆ¥ğ«âˆ¥=Î¸\\left\\|\\bm{r}\\right\\| = \\theta.\nThe direction of ğ«\\bm{r} is equal to the axis ğ¤\\bm{k}.\n\n\n\n\n\n\n\nCAUTION\n\n\nTwo axis-angle representations may NOT be combined using standard rules of vector algebra! Doing so would imply that rotations commute (which we know they do NOT).\n\n\n\n\nÂ \n\n\n\nExample\n\n\n\nSuppose ğ‘\\bm{R} is generated by\n\na rotation of 90âˆ˜90^\\circ about ğ³0\\bm{z}_0,\na rotation of 30âˆ˜30^\\circ about ğ²0\\bm{y}_0,\na rotation of 60âˆ˜60^\\circ about ğ±0\\bm{x}_0.\n\nğ‘=ğ‘x,60âˆ˜ğ‘y,30âˆ˜ğ‘z,90âˆ˜=(0âˆ’321212âˆ’34âˆ’34321434)\n\\bm{R} = \\bm{R}_{x,60^\\circ}\\bm{R}_{y,30^\\circ}\\bm{R}_{z,90^\\circ} = \n\\begin{pmatrix}\n0 & -\\frac{\\sqrt{3}}{2} & \\frac{1}{2} \\\\\n\\frac{1}{2} & -\\frac{\\sqrt{3}}{4} & -\\frac{3}{4} \\\\\n\\frac{\\sqrt{3}}{2} & \\frac{1}{4} & \\frac{\\sqrt{3}}{4}\n\\end{pmatrix}\n\n\n\nWe see that trğ‘=0\\;\\text{tr}\\;\\bm{R} = 0\\; hence Î¸=arccos(âˆ’12)=120âˆ˜\\theta = \\arccos{\\left(-\\frac{1}{2})} = 120^\\circ.\nThe equivalent axis is given as ğ¤=(13123âˆ’12123+12)âŠ¤ \\bm{k} = \\begin{pmatrix} \n\\frac{1}{\\sqrt{3}} \\\\ \\frac{1}{2\\sqrt{3}}-\\frac{1}{2} \\\\\n\\frac{1}{2\\sqrt{3}}+\\frac{1}{2}\n\\end{pmatrix}^\\top"
  },
  {
    "objectID": "02_rigid_motions.html#unit-quaternions",
    "href": "02_rigid_motions.html#unit-quaternions",
    "title": "02_rigid_motions",
    "section": "Unit quaternions",
    "text": "Unit quaternions\n\n\n\nQuaternion â€“ extension of the complex number\n\n\nWe write a quaternion as a scalar plus a vector: ğª=s+ğ¯=s+v1i+v2j+v3k, \\bm{q} = s + \\bm{v} = s + v_1 i + v_2 j + v_3 k,  where sâˆˆâ„s \\in \\mathbb{R} and ğ¯âˆˆâ„3\\bm{v} \\in \\mathbb{R}^3 and the orthogonal complex numbers ii, jj, and kk are defined such that i2=j2=k2=ijk=âˆ’1 i^2 = j^2 = k^2 = ijk = -1  and we denote a quaternion as ğª=sâŸ¨v1,v2,v3âŸ©. \\bm{q} = s \\langle v_1, v_2, v_3 \\rangle. \n\n\n\n\nQuaternions support addition and subtraction, performed element-wise, multiplication by a scalar and multiplication ğª1âˆ˜ğª2=s1s2âˆ’ğ¯1â‹…ğ¯2âŸ¨s1ğ¯2+s2ğ¯1+ğ¯1Ã—ğ¯2âŸ©, \\bm{q}_1 \\circ \\bm{q}_2 = s_1s_2 - \\bm{v}_1 \\cdot \\bm{v}_2 \\langle s_1\n\\bm{v}_2 + s_2 \\bm{v}_1 + \\bm{v}_1 \\times \\bm{v}_2 \\rangle,  which is known as the quaternion or Hamilton product.\nIf we write the quaternion as a 44-vector (s,v1,v2,v3)(s, v_1, v_2, v_3) then multiplication can be expressed as a matrix vector product ğªâˆ˜ğªâ€²=(sâˆ’v1âˆ’v2âˆ’v3v1sâˆ’v3v2v2v3sâˆ’v1v3âˆ’v2v1s)(sâ€²v1â€²v2â€²v3â€²)\n\\bm{q} \\circ \\bm{q}^\\prime = \\begin{pmatrix}\ns & -v_1 & -v_2 & -v_3 \\\\ v_1 & s & -v_3 & v_2 \\\\ v_2 & v_3 & s & -v_1 \\\\\nv_3 & -v_2 & v_1 & s\n\\end{pmatrix}\n\\begin{pmatrix}\ns^\\prime \\\\ v_1^\\prime \\\\ v_2^\\prime \\\\ v_3^\\prime\n\\end{pmatrix}"
  },
  {
    "objectID": "02_rigid_motions.html#unit-quaternions-1",
    "href": "02_rigid_motions.html#unit-quaternions-1",
    "title": "02_rigid_motions",
    "section": "Unit quaternions",
    "text": "Unit quaternions\n\nTo represent rotations, we use unit-quaternions, denoted by ğªÌŠ\\mathring{\\bm{q}}, that is, âˆ¥ğªâˆ¥=s2+v12+v22+v32=1. \\left\\| \\bm{q} \\right\\| = s^2 + v_1^2 + v_2^2 + v_3^2 = 1. \nThey can be considered as a rotation of Î¸\\theta about the unit vector ğ¯\\bm{v}, which are related to the quaternions by ğªÌŠ=cosÎ¸2âŸ¨ğ¯sinÎ¸2âŸ©. \\mathring{\\bm{q}} = \n\\cos{\\frac{\\theta}{2}} \\langle \\bm{v} \\sin{\\frac{\\theta}{2}} \\rangle. \n\n\n\n\nConcrete representation: Î¾âˆ¼ğªÌŠâˆˆğ•Š3\\xi \\sim \\mathring{\\bm{q}} \\in \\mathbb{S}^3\n\n\n\nComposition: ğªÌŠ1âŠ•ğªÌŠ2â†”ğªÌŠ1âˆ˜ğªÌŠ2\\mathring{\\bm{q}}_1 \\oplus \\mathring{\\bm{q}}_2 \\leftrightarrow \\mathring{\\bm{q}}_1 \\circ \\mathring{\\bm{q}}_2\nInversion: âŠ–ğªÌŠâ†”ğªÌŠâˆ’1=sâŸ¨âˆ’ğ¯âŸ©\\ominus \\mathring{\\bm{q}} \\leftrightarrow \\mathring{\\bm{q}}^{-1} = s \\langle -\\bm{v} \\rangle (also known as the quaternion conjugate).\nThe zero rotation: 0â†”1âŸ¨0,0,0âŸ©0 \\leftrightarrow 1 \\langle 0, 0, 0 \\rangle (also known as the identity quaternion).\nAction on vectors: ğªÌŠâ€¢ğ¯â†”ğªÌŠâˆ˜ğ¯ÌŠâˆ˜ğªÌŠâˆ’1,\\mathring{\\bm{q}} \\bullet \\bm{v} \\leftrightarrow\n\\mathring{\\bm{q}} \\circ \\mathring{\\bm{v}} \\circ \\mathring{\\bm{q}}^{-1},  where ğ¯ÌŠ=0âŸ¨ğ¯âŸ©\\mathring{\\bm{v}} = 0 \\langle \\bm{v} \\rangle is known as a pure quaternion."
  },
  {
    "objectID": "02_rigid_motions.html#exponential-coordinates-rodriguess-formula",
    "href": "02_rigid_motions.html#exponential-coordinates-rodriguess-formula",
    "title": "02_rigid_motions",
    "section": "Exponential coordinates â€“ Rodriguesâ€™s formula",
    "text": "Exponential coordinates â€“ Rodriguesâ€™s formula\n\nTwo coordinate frames of arbitrary orientation can also be thought of as being related by a single rotation (of angle Î¸\\theta) about some axis, ğ›šâˆˆâ„3\\bm{\\omega} \\in \\mathbb{R}^3, in space.\nRecall that a rotation matrix ğ‘\\bm{R} always has the eigenvalue 11: ğ‘ğ›š=ğ›š.  \\bm{R}\\bm{\\omega} = \\bm{\\omega}. \n\nimplies that the corresponding eigenvector ğ›š\\bm{\\bm{\\omega}} is unchanged by the rotation.\nthere is only one such vector and that is the axis of rotation.\n\nGiven an angle and a vector, we can find the rotation matrix that is generated by using the matrix exponential: ğ‘=eğ›šÌ‚Î¸, \\bm{R} = e^{\\hat{\\bm{\\omega}}\\theta},  where the hat operator turns a vector to a skew-symmetric matrix: Ì‚:â„3â†’ğ”°ğ”¬(3);ğ›šâ†¦[0âˆ’ğ›š3ğ›š2ğ›š30âˆ’ğ›š1âˆ’ğ›š2ğ›š10]. \\hat{~}: \\mathbb{R}^3 \\rightarrow \\mathfrak{so}(3); \\quad \n\\bm{\\omega} \\mapsto \\begin{bmatrix} 0 & -\\bm{\\omega}_3 & \\bm{\\omega}_2 \\\\ \n\\bm{\\omega}_3 & 0 & -\\bm{\\omega}_1 \\\\\n-\\bm{\\omega}_2 & \\bm{\\omega}_1 & 0 \\end{bmatrix}.\nThe Rodrigues rotation formula gives us an easy way to evaluate the matrix exponential: eğ›šÌ‚Î¸=ğˆ+sin(Î¸)ğ›šÌ‚+(1âˆ’cos(Î¸))ğ›šÌ‚2. e^{\\hat{\\bm{\\omega}}\\theta} = \\bm{I} + \\sin{(\\theta)} \\hat{\\bm{\\omega}} + \n\\left(1 - \\cos{(\\theta)}\\right)\\hat{\\bm{\\omega}}^2."
  },
  {
    "objectID": "02_rigid_motions.html#pose-in-three-dimensions",
    "href": "02_rigid_motions.html#pose-in-three-dimensions",
    "title": "02_rigid_motions",
    "section": "Pose in three dimensions",
    "text": "Pose in three dimensions\n\n\n\nLetâ€™s account for the translation btw. the origins of {A}\\{A\\} and {B}\\{B\\}.\nğ­âˆˆâ„3\\bm{t} \\in \\mathbb{R}^3 is a vector defining the origin of frame {B}\\{B\\} w.r.t. frame {A}\\{A\\} and ğ‘\\bm{R} is the rotation matrix describing the orientation of the axes of frame {B}\\{B\\} w.r.t. frame {A}\\{A\\}. (xayaza1)=[Ağ‘Bğ­01Ã—31](xbybzb1)\n\\begin{pmatrix}\nx_a \\\\ y_a \\\\ z_a \\\\ 1\n\\end{pmatrix} = \n\\begin{bmatrix}\n{^A}\\bm{R}_B & \\bm{t} \\\\ \\bm{0}_{1 \\times 3} & 1\n\\end{bmatrix}\n\\begin{pmatrix}\nx_b \\\\ y_b \\\\ z_b \\\\ 1\n\\end{pmatrix}\n\nIf points are represented by homogeneous coordinate vectors, then Ağ©=[Ağ‘Bğ­01Ã—31]Bğ©=Ağ“BBğ©. {^A}\\bm{p} = \n\\begin{bmatrix}\n{^A}\\bm{R}_B & \\bm{t} \\\\ \\bm{0}_{1 \\times 3} & 1\n\\end{bmatrix} {^B}\\bm{p} = {^A}\\bm{T}_B{^B}\\bm{p}.\n\nThe matrix Ağ“B{^A}\\bm{T}_B has a very specific structure and belongs to the special Euclidean group of dimension 33 or ğ“âˆˆğ’ğ„(3)âŠ†â„4Ã—4\\bm{T} \\in \\bm{SE}(3) \\subseteq \\mathbb{R}^{4 \\times 4}.\n\n\n\n\n\n\n\n\n\n3D coordinate frames\n\n\n{B}\\{B\\} is rotated and translated w.r.t. {A}\\{A\\}."
  },
  {
    "objectID": "02_rigid_motions.html#homogeneous-transformations-in-3d",
    "href": "02_rigid_motions.html#homogeneous-transformations-in-3d",
    "title": "02_rigid_motions",
    "section": "Homogeneous transformations in 33D",
    "text": "Homogeneous transformations in 33D\nÂ \n\n\n\nProperties of homogeneous transformations\n\n\nA concrete representation of relative pose Î¾\\xi is Î¾âˆ¼ğ“âˆˆğ’ğ„(3)\\xi \\sim \\bm{T} \\in \\bm{SE}(3) and ğ“1âŠ•ğ“2â†¦ğ“1ğ“2\\bm{T}_1 \\oplus \\bm{T}_2 \\mapsto \\bm{T}_1\\bm{T}_2 which is the standard matrix multiplication\nğ“1ğ“2=[ğ‘1ğ­101Ã—31][ğ‘2ğ­201Ã—31][ğ‘1ğ‘2ğ­1+ğ‘1t201Ã—31].\n\\bm{T}_1 \\bm{T}_2 = \n\\begin{bmatrix}\n\\bm{R}_1 & \\bm{t}_1 \\\\ \\bm{0}_{1 \\times 3} & 1\n\\end{bmatrix}\n\\begin{bmatrix}\n\\bm{R}_2 & \\bm{t}_2 \\\\ \\bm{0}_{1 \\times 3} & 1\n\\end{bmatrix}\n\\begin{bmatrix}\n\\bm{R}_1\\bm{R}_2 & \\bm{t}_1 + \\bm{R}_1t_2 \\\\ \\bm{0}_{1 \\times 3} & 1\n\\end{bmatrix}.\n\nOne of the algebraic rules was Î¾âŠ•0=Î¾\\xi \\oplus 0 = \\xi. For matrices, we know that ğ“ğˆ=ğ“\\bm{T} \\bm{I} = \\bm{T}, where ğˆ\\bm{I} is the identity matrix. So for pose, we make the identification 0â†”ğˆ0 \\leftrightarrow \\bm{I}.\nAnother rule was that Î¾âŠ–Î¾=0\\xi \\ominus \\xi = 0. We know for matrices that ğ“ğ“âˆ’1=ğˆ\\bm{T} \\bm{T}^{-1} = \\bm{I}, which implies that âŠ–ğ“â†”ğ“âˆ’1\\ominus \\bm{T} \\leftrightarrow \\bm{T}^{-1}.\nğ“âˆ’1=[ğ‘ğ­01Ã—31]âˆ’1=[ğ‘âŠ¤âˆ’ğ‘âŠ¤ğ­01Ã—31].\n\\bm{T}^{-1} = \\begin{bmatrix} \\bm{R} & \\bm{t} \\\\ \\bm{0}_{1 \\times 3} & 1 \n\\end{bmatrix}^{-1} = \\begin{bmatrix} \\bm{R}^\\top & -\\bm{R}^\\top \\bm{t} \\\\ \n\\bm{0}_{1 \\times 3} & 1 \\end{bmatrix}.\n\nFinally, for a point ğ©\\bm{p} in homogeneous representation, we have ğ“â€¢ğ©â†”ğ“ğ©\\bm{T} \\bullet \\bm{p} \\leftrightarrow \\bm{Tp}, which is a standard matrix-vector product.\n\n\n\nThe 4Ã—44 \\times 4 homogeneous transformation is very commonly used in robotics, computer graphics, and computer vision."
  },
  {
    "objectID": "02_rigid_motions.html#example-problem",
    "href": "02_rigid_motions.html#example-problem",
    "title": "02_rigid_motions",
    "section": "Example problem",
    "text": "Example problem\nÂ \n\n\n\n\nFind the homogeneous transformations 0ğ“1{^0}\\bm{T}_1, 0ğ“2{^0}\\bm{T}_2, 1ğ“2{^1}\\bm{T}_2.\nShow that 0ğ“2=0ğ“11ğ“2{^0}\\bm{T}_2 = {^0}\\bm{T}_1{^1}\\bm{T}_2.\n\n\n\n\n0ğ“11ğ“2=(ğ‘z,âˆ’90âˆ˜ğ‘y,90âˆ˜ğ‘y,âˆ’90âˆ˜ğ‘x,90âˆ˜0ğ­1+ğ‘z,âˆ’90âˆ˜ğ‘y,90âˆ˜1ğ­201)=(0ğ‘20ğ­1+ğ‘z,âˆ’90âˆ˜ğ‘y,90âˆ˜1ğ­201)=(0ğ‘20ğ­201)=0ğ“2.\n\\begin{aligned}\n{^0}\\bm{T}_1{^1}\\bm{T}_2 &= \\begin{pmatrix}\n\\bm{R}_{z,-90^\\circ}\\bm{R}_{y,90^\\circ}\\bm{R}_{y,-90^\\circ}\\bm{R}_{x,90^\\circ} & \n{^0}\\bm{t}_1 + \\bm{R}_{z,-90^\\circ}\\bm{R}_{y,90^\\circ}{^1}\\bm{t}_2 \\\\ \\bm{0} & 1\n\\end{pmatrix} \\\\\n&= \\begin{pmatrix}\n{^0}\\bm{R}_2 & \n{^0}\\bm{t}_1 + \\bm{R}_{z,-90^\\circ}\\bm{R}_{y,90^\\circ}{^1}\\bm{t}_2 \\\\ \\bm{0} & 1\n\\end{pmatrix} = \n\\begin{pmatrix}\n{^0}\\bm{R}_2 & {^0}\\bm{t}_2 \\\\ \\bm{0} & 1\n\\end{pmatrix} = {^0}\\bm{T}_2.\n\\end{aligned}\n\n\n\n\n\n\n\n\n\n\n\nÂ \n\n\n\n0ğ“1=(ğ‘z,âˆ’90âˆ˜ğ‘y,90âˆ˜0ğ­101),0ğ­1=(001)âŠ¤.\n\\begin{aligned}\n{^0}\\bm{T}_1 &= \\begin{pmatrix}\n\\bm{R}_{z,-90^\\circ}\\bm{R}_{y,90^\\circ} & {^0}\\bm{t}_1 \\\\ \\bm{0} & 1\n\\end{pmatrix}, \\\\\n{^0}\\bm{t}_1 &= \\begin{pmatrix} 0 & 0 & 1 \\end{pmatrix}^\\top.\n\\end{aligned}\n\n\n\n\n0ğ“2=(ğ‘z,âˆ’90âˆ˜ğ‘x,90âˆ˜0ğ­201),0ğ­2=(010)âŠ¤.\n\\begin{aligned}\n{^0}\\bm{T}_2 &= \\begin{pmatrix}\n\\bm{R}_{z,-90^\\circ}\\bm{R}_{x,90^\\circ} & {^0}\\bm{t}_2 \\\\ \\bm{0} & 1\n\\end{pmatrix}, \\\\\n{^0}\\bm{t}_2 &= \\begin{pmatrix} 0 & 1 & 0 \\end{pmatrix}^\\top.\n\\end{aligned}\n\n\n\n\n1ğ“2=(ğ‘y,âˆ’90âˆ˜ğ‘x,90âˆ˜1ğ­201),1ğ­2=(10âˆ’1)âŠ¤.\n\\begin{aligned}\n{^1}\\bm{T}_2 &= \\begin{pmatrix}\n\\bm{R}_{y,-90^\\circ}\\bm{R}_{x,90^\\circ} & {^1}\\bm{t}_2 \\\\ \\bm{0} & 1\n\\end{pmatrix}, \\\\\n{^1}\\bm{t}_2 &= \\begin{pmatrix} 1 & 0 & -1 \\end{pmatrix}^\\top.\n\\end{aligned}\n\n\n\n\n\n\nRobotics and Automated Systems â€¢ Aykut C. Satici"
  }
]